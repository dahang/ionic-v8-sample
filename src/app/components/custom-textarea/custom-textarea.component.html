<ion-item [class.ion-invalid]="touched && errorText" [class.ion-valid]="touched && !errorText">
  @if (label) {
    <ion-label position="stacked">
      {{ label }}
      @if (required) {
        <span class="required-indicator">*</span>
      }
    </ion-label>
  }
  <ion-textarea
    [placeholder]="placeholder"
    [maxlength]="maxlength"
    [rows]="rows"
    [autoGrow]="autoGrow"
    [disabled]="disabled"
    [value]="value"
    [name]="name"
    (ionInput)="handleInputChange($event)"
    (ionChange)="handleInputChange($event)"
    (ionBlur)="handleBlur($event)"
    (ionFocus)="handleFocus($event)"
  ></ion-textarea>
  @if (helperText && !errorText) {
    <ion-note slot="helper">
      {{ helperText }}
    </ion-note>
  }
  @if (errorText && touched) {
    <ion-note slot="error">
      {{ errorText }}
    </ion-note>
  }
  @if (showCharacterCount) {
    <ion-note slot="end" class="character-count" [class.warning]="charactersRemaining <= 50" [class.danger]="charactersRemaining <= 10">
      {{ charactersRemaining }} remaining
    </ion-note>
  }
</ion-item>